import{k as L}from"./preact.module.B31BUu8B.js";import{y as h,d as y}from"./hooks.module.CdfbUnu1.js";import{u as r}from"./jsxRuntime.module.CgdKjfoI.js";const g=(i,t,e)=>{if(!(!i||!i.classList))try{e?i.classList.add(t):i.classList.remove(t)}catch(o){console.error(`Error ${e?"adding":"removing"} class "${t}":`,o)}},v=(i,t,e,o)=>Math.sqrt(Math.pow(e-i,2)+Math.pow(o-t,2)),S=i=>{const t=i.getBoundingClientRect();return!(t.top>window.innerHeight||t.bottom<0)},T=()=>{const i=document.documentElement;if(i)try{i.classList.toggle("dark");const t=i.classList.contains("dark");localStorage.setItem("theme",t?"dark":"light")}catch(t){console.error("Error toggling theme:",t)}},w=(i,t,e)=>{try{const o=document.querySelectorAll("p, h1, h2, h3, h4, h5, h6, span, li"),s=[];return o.forEach(a=>{const n=a.getBoundingClientRect(),c=n.left+n.width/2,l=n.top+n.height/2;v(i,t,c,l)<e&&(a.id?s.push(`#${a.id}`):a.classList.length>0?s.push(`.${Array.from(a.classList).join(".")}`):s.push(a.tagName.toLowerCase()))}),s}catch(o){return console.error("Error finding elements near position:",o),[]}};class d{static methods={reverse:t=>t.split("").reverse().join(""),leetspeak:t=>{const e={a:"4",e:"3",i:"1",o:"0",s:"5",t:"7",b:"8",l:"1",A:"4",E:"3",I:"1",O:"0",S:"5",T:"7",B:"8",L:"1"};return t.split("").map(o=>e[o]||o).join("")},scramble:t=>t.split(" ").map(e=>{if(e.length<=3)return e;const o=e[0],s=e[e.length-1],a=e.substring(1,e.length-1).split("");for(let n=a.length-1;n>0;n--){const c=Math.floor(Math.random()*(n+1));[a[n],a[c]]=[a[c],a[n]]}return o+a.join("")+s}).join(" "),randomCapitalize:t=>t.split("").map(e=>Math.random()>.5?e.toUpperCase():e.toLowerCase()).join(""),zalgo:(t,e=1)=>{const o=["̀","́","̂","̃","̄","̅","̆","̇","̈","̉","̊","̋","̌","̍","̎","̏","̐","̑","̒","̓","̔","̕","̚","̛","̽","̾","̿","̀","́","͂","̓","̈́","͆","͊","͋","͌","͐","͑","͒","͗","͘","͛","͝","͞","͠","͡","͢","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ"];return t.split("").map(s=>{let a=s;const n=Math.floor(Math.random()*(5*e));for(let c=0;c<n;c++){const l=o[Math.floor(Math.random()*o.length)];a+=l}return a}).join("")}};static getRandomMethod(){const t=Object.keys(this.methods);return t[Math.floor(Math.random()*t.length)]}static obfuscate(t,e){if(!t)return t;const o=e?.method||this.getRandomMethod(),s=e?.intensity||1;return o==="zalgo"?this.methods.zalgo(t,s):this.methods[o]?.(t)||t}static obfuscateElements(t,e={onlyVisible:!0}){try{const o=document.querySelectorAll(t);if(!o||o.length===0)return;o.forEach(s=>{e.onlyVisible&&!S(s)||s instanceof HTMLElement&&(!s.dataset.originalText&&s.textContent&&(s.dataset.originalText=s.textContent),s.textContent&&s.dataset.originalText&&(s.textContent=this.obfuscate(s.dataset.originalText,e)))})}catch(o){console.error(`Error obfuscating elements with selector "${t}":`,o)}}static restoreElements(t){try{const e=document.querySelectorAll(t);if(!e||e.length===0)return;e.forEach(o=>{o instanceof HTMLElement&&o.dataset.originalText&&(o.textContent=o.dataset.originalText)})}catch(e){console.error(`Error restoring elements with selector "${t}":`,e)}}static cyclicObfuscation(t,e={}){const o=Object.keys(this.methods);let s=0,a=Date.now(),n=null;const c=e.interval||2e3,l=e.duration||0,f=()=>{const C=o[s];this.obfuscateElements(t,{...e,method:C}),s=(s+1)%o.length,l===0||Date.now()-a<l?n=window.setTimeout(f,c):this.restoreElements(t)};return f(),()=>{n!==null&&(window.clearTimeout(n),this.restoreElements(t))}}static initWithChaosMode(){typeof window>"u"||document.addEventListener("DOMContentLoaded",()=>{setInterval(()=>{try{if(parseInt(localStorage.getItem("chaosClickCount")||"0")>=25&&Math.random()<.3){const o="p, h1, h2, h3, h4, h5, h6",s=this.getRandomMethod();this.obfuscateElements(o,{method:s}),setTimeout(()=>{this.restoreElements(o)},2e3)}}catch(e){console.error("Error checking chaos state:",e)}},5e3),document.addEventListener("click",()=>{try{if(parseInt(localStorage.getItem("chaosClickCount")||"0")>=25&&Math.random()<.5){const o="p, h1, h2, h3, h4, h5, h6";this.obfuscateElements(o,{method:"zalgo"}),setTimeout(()=>{this.restoreElements(o)},1500)}}catch(e){console.error("Error in click handler for obfuscation:",e)}})})}}d.getRandomMethod.bind(d);d.obfuscate.bind(d);const I=d.obfuscateElements.bind(d),A=d.restoreElements.bind(d);d.cyclicObfuscation.bind(d);const O=()=>{typeof window>"u"||d.initWithChaosMode()};typeof window<"u"&&O();const m={chaosThreshold:5,ultraChaosThreshold:25,effectRadius:300,obfuscationDelay:1e3};function R(){const i=typeof window<"u"?parseInt(localStorage.getItem("chaosClickCount")||"0",10):0;return{clickCount:i,chaosMode:i>=m.chaosThreshold,ultraChaosMode:i>=m.ultraChaosThreshold,mouseX:0,mouseY:0,rotation:0,hueRotation:0,lastObfuscationTime:0}}const M={TEXT_ELEMENTS:"p, h1, h2, h3, h4, h5, h6, span, a, li, blockquote",BRUTALIST_ELEMENTS:".brutalist-card, blockquote, .brutalist-intro, .brutalist-grid, .brutalist-section-title",HEADING_ELEMENTS:"p, h1, h2, h3, h4, h5, h6",INTERACTIVE_ELEMENTS:"a, button"};let q=class{state;constructor(){this.state=R()}initialize(){typeof window>"u"||(document.addEventListener("click",this.handleGlobalClick.bind(this)),document.addEventListener("mousemove",this.handleMouseMove.bind(this)),this.state.ultraChaosMode?this.applyUltraChaosMode():this.state.chaosMode&&this.applyChaosMode())}applyChaosMode(){document.body&&(g(document.body,"chaos-mode",!0),this.updateChaosFontSizes())}applyUltraChaosMode(){document.body&&(g(document.body,"chaos-mode",!0),g(document.body,"ultra-chaos-mode",!0),this.startUltraChaosAnimation(),this.updateChaosFontSizes())}saveClickCount(){try{localStorage.setItem("chaosClickCount",this.state.clickCount.toString())}catch(t){console.error("Error storing chaosClickCount in localStorage:",t)}}handleGlobalClick=t=>{const e=t.target,o=e.tagName==="A"||e.tagName==="BUTTON"||!!e.closest("a")||!!e.closest("button");this.state.clickCount++,this.saveClickCount(),this.state.clickCount>=m.chaosThreshold&&!this.state.chaosMode&&(this.state.chaosMode=!0,this.applyChaosMode()),this.state.chaosMode&&(T(),this.updateChaosFontSizes()),this.state.clickCount>=m.ultraChaosThreshold&&!this.state.ultraChaosMode&&(this.state.ultraChaosMode=!0,this.applyUltraChaosMode(),this.addBrutalistGlitchText()),this.state.ultraChaosMode&&!o&&this.applyObfuscationEffect()};applyObfuscationEffect(){const t=Date.now();if(t-this.state.lastObfuscationTime>m.obfuscationDelay){this.state.lastObfuscationTime=t;const e=w(this.state.mouseX,this.state.mouseY,m.effectRadius);if(e.length>0){const o=e.join(", ");I(o),setTimeout(()=>{A(o)},1500)}}}handleMouseMove=t=>{this.state.chaosMode&&(this.state.mouseX=t.clientX,this.state.mouseY=t.clientY,requestAnimationFrame(()=>this.updateChaosFontSizes()))};updateChaosFontSizes=()=>{if(this.state.chaosMode)try{const t=document.querySelectorAll(M.TEXT_ELEMENTS);if(!t||t.length===0)return;t.forEach(e=>{if(!(e instanceof HTMLElement))return;const o=e.getBoundingClientRect(),s=o.left+o.width/2,a=o.top+o.height/2,n=v(this.state.mouseX,this.state.mouseY,s,a),c=200;if(n<c){const l=n/c,f=50-l*45;if(e.style.fontSize=`${f}px`,this.state.ultraChaosMode){const C=(1-l)*45;e.style.transform=`rotate(${C}deg)`}}else e.style.fontSize="5px",this.state.ultraChaosMode&&(e.style.transform="rotate(0deg)")})}catch(t){console.error("Error updating font sizes:",t)}};startUltraChaosAnimation=()=>{if(!this.state.ultraChaosMode)return;const t=()=>{if(this.state.ultraChaosMode)try{this.state.rotation=(this.state.rotation+.5)%360,this.state.hueRotation=(this.state.hueRotation+2)%360,document.body&&(document.body.style.transform=`skew(${Math.sin(this.state.rotation*Math.PI/180)*5}deg)`),document.documentElement&&(document.documentElement.style.filter=`hue-rotate(${this.state.hueRotation}deg)`),document.querySelectorAll(M.BRUTALIST_ELEMENTS).forEach(o=>{if(o instanceof HTMLElement&&Math.random()<.05){const s=Math.floor(Math.random()*15)+2;o.style.borderWidth=`${s}px`}}),requestAnimationFrame(t)}catch(e){console.error("Error in ultra chaos animation:",e)}};t()};addBrutalistGlitchText=()=>{if(!(!this.state.ultraChaosMode||!document.body))try{if(document.querySelector(".brutalist-overlay"))return;const t=document.createElement("div");t.className="brutalist-overlay";const e=["Your pc has been hacked","YOU ARE IN CHAOS MODE","GLITCH IN THE MATRIX","NO STYLE","SYSTEM FAILURE","CONTENT OVER FORM","EMBRACE CHAOS","FUNCTION > FORM"],o=document.createElement("div");o.className="brutalist-marquee",e.forEach(s=>{const a=document.createElement("span");a.textContent=s,a.className="glitch-text",o.appendChild(a);const n=document.createElement("span");n.innerHTML="&nbsp;&nbsp;&nbsp;&nbsp;",o.appendChild(n)}),t.appendChild(o),document.body.appendChild(t),setInterval(()=>{Math.random()<.1&&document.body&&(g(document.body,"glitch-effect",!0),setTimeout(()=>g(document.body,"glitch-effect",!1),100))},1e3)}catch(t){console.error("Error adding brutalist glitch text:",t)}}},k=null;const p=()=>{typeof window>"u"||(k||(k=new q),k.initialize())};typeof window<"u"&&(document.addEventListener("DOMContentLoaded",p),(document.readyState==="complete"||document.readyState==="interactive")&&p());typeof window<"u"&&(document.readyState==="complete"||document.readyState==="interactive"?p():document.addEventListener("DOMContentLoaded",p));function N(i){return h(()=>{typeof window>"u"||p()},[]),null}function x(i){const t=()=>{const e=document.querySelector(".nav-links");e&&e.classList.toggle("expanded")};return h(()=>{if(typeof window>"u")return;const e=document.querySelector(".hamburger");e&&e.addEventListener("click",t);const o=document.querySelector(".goBack");return o&&o.addEventListener("click",()=>window.history.back()),()=>{e&&e.removeEventListener("click",t),o&&o.removeEventListener("click",()=>window.history.back())}},[]),null}function D(i){const t=()=>typeof window>"u"?"light":typeof localStorage<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme")||"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",e=()=>{const o=document.documentElement;o.classList.toggle("dark");const s=o.classList.contains("dark");localStorage.setItem("theme",s?"dark":"light")};return h(()=>{if(typeof window>"u")return;const o=t();o==="light"?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark"),window.localStorage.setItem("theme",o);const s=document.getElementById("themeToggle");return s&&(s.addEventListener("click",function(a){a.preventDefault(),e()}),s.addEventListener("touchend",function(a){a.preventDefault(),e()})),()=>{s&&(s.removeEventListener("click",a=>{a.preventDefault(),e()}),s.removeEventListener("touchend",a=>{a.preventDefault(),e()}))}},[]),null}function z(i){return h(()=>{if(!(typeof window>"u"))return document.querySelectorAll(".read-more-btn").forEach(t=>{t.addEventListener("click",()=>{const e=t.closest(".brutalist-card");e&&e.classList.add("flipped")})}),document.querySelectorAll(".back-btn").forEach(t=>{t.addEventListener("click",()=>{const e=t.closest(".brutalist-card");e&&e.classList.remove("flipped")})}),()=>{document.querySelectorAll(".read-more-btn").forEach(t=>{t.removeEventListener("click",()=>{const e=t.closest(".brutalist-card");e&&e.classList.add("flipped")})}),document.querySelectorAll(".back-btn").forEach(t=>{t.removeEventListener("click",()=>{const e=t.closest(".brutalist-card");e&&e.classList.remove("flipped")})})}},[]),null}function H(i){return h(()=>{if(typeof window>"u")return;const t=document.querySelectorAll(".brutalist-sub-menu .menu-item"),e=(o,s)=>{const a=s.getAttribute("href")?.substring(1);if(!a)return;const n=document.getElementById(a);n&&(o.preventDefault(),n.scrollIntoView({behavior:"smooth",block:"center"}),document.querySelectorAll(".darkable").forEach(c=>{c.id===a?(c.classList.add("content-highlighted"),c.classList.remove("content-darkened")):(c.classList.add("content-darkened"),c.classList.remove("content-highlighted"))}),n.classList.contains("darkable")||n.classList.add("darkable"),setTimeout(()=>{document.querySelectorAll(".darkable").forEach(c=>{c.classList.remove("content-darkened")})},5e3))};return t.forEach(o=>{o.addEventListener("click",s=>e(s,o))}),()=>{t.forEach(o=>{o.removeEventListener("click",s=>e(s,o))})}},[]),null}function B({rootMargin:i="-20% 0px",threshold:t=.6}){return h(()=>{if(typeof window>"u")return;const e=document.querySelectorAll(".highlight-in-viewport"),o={root:null,rootMargin:i,threshold:t},s=new IntersectionObserver(a=>{a.forEach(n=>{n.isIntersecting?(n.target.classList.add("content-highlighted"),n.target.classList.remove("content-darkened")):(n.target.classList.remove("content-highlighted"),n.target.classList.add("content-darkened"))})},o);return e.forEach(a=>{s.observe(a)}),()=>{s.disconnect()}},[i,t]),null}const u=()=>typeof window<"u",b=(i,t="")=>u()&&localStorage.getItem(i)||t,E=(i,t)=>{u()&&localStorage.setItem(i,t)},F=()=>{const[i,t]=y(!1),[e,o]=y([{id:"chaos-mode",name:"Chaos Mode",enabled:!1,description:"Adds random chaotic effects to the page"},{id:"obfuscator",name:"Text Obfuscator",enabled:!1,description:"Obfuscates text on the page with various effects"},{id:"content-highlighter",name:"Content Highlighter",enabled:!0,description:"Highlights content in viewport and darkens content outside"},{id:"dark-mode",name:"Dark Mode",enabled:!1,description:"Toggles between dark and light theme"}]);h(()=>{u()&&o(n=>n.map(c=>{let l=!1;switch(c.id){case"chaos-mode":l=b("chaosMode")==="enabled";break;case"obfuscator":l=b("obfuscator")==="enabled";break;case"content-highlighter":l=b("contentHighlighter")!=="disabled";break;case"dark-mode":l=b("theme")==="dark";break}return{...c,enabled:l}}))},[]),h(()=>{u()&&e.forEach(n=>{switch(n.id){case"chaos-mode":E("chaosMode",n.enabled?"enabled":"disabled");break;case"obfuscator":E("obfuscator",n.enabled?"enabled":"disabled");break;case"content-highlighter":E("contentHighlighter",n.enabled?"enabled":"disabled");break;case"dark-mode":E("theme",n.enabled?"dark":"light"),u()&&document.documentElement&&document.documentElement.classList.toggle("dark",n.enabled);break}u()&&document.dispatchEvent&&document.dispatchEvent(new CustomEvent("feature-toggle",{detail:{id:n.id,enabled:n.enabled}}))})},[e]);const s=n=>{o(c=>c.map(l=>l.id===n?{...l,enabled:!l.enabled}:l))},a=()=>{t(!i)};return u()?r("div",{class:"settings-component",children:[r("button",{id:"settingsToggle",class:"settings-toggle",onClick:a,"aria-label":"Toggle Settings Panel",children:r("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"2",fill:"none",children:[r("path",{d:"M12 15a3 3 0 100-6 3 3 0 000 6z"}),r("path",{d:"M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"})]})}),r("div",{class:`settings-panel ${i?"open":""}`,children:[r("div",{class:"settings-header",children:[r("h3",{children:"Settings"}),r("button",{class:"close-settings",onClick:a,"aria-label":"Close Settings Panel",children:"×"})]}),r("div",{class:"settings-content",children:r("ul",{class:"feature-list",children:e.map(n=>r("li",{class:"feature-item",children:[r("div",{class:"feature-header",children:[r("label",{class:"feature-label",htmlFor:n.id,children:n.name}),r("div",{class:"toggle-switch",children:[r("input",{type:"checkbox",id:n.id,checked:n.enabled,onChange:()=>s(n.id)}),r("span",{class:"toggle-slider"})]})]}),r("p",{class:"feature-description",children:n.description})]},n.id))})})]})]}):null};function X(){return r(L,{children:[r(D,{}),r(x,{}),r(z,{}),r(H,{}),r(B,{}),r(N,{}),r(F,{})]})}export{X as default};
