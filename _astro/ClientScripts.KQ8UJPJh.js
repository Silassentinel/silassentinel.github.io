import{k as q}from"./preact.module.B31BUu8B.js";import{d as M,y as b}from"./hooks.module.CdfbUnu1.js";import{u as l}from"./jsxRuntime.module.CgdKjfoI.js";const x=a=>{const e=a.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)};class w{static methods={reverse:e=>e.split("").reverse().join(""),leetspeak:e=>{const t={a:"4",e:"3",i:"1",o:"0",s:"5",t:"7",b:"8",l:"1",A:"4",E:"3",I:"1",O:"0",S:"5",T:"7",B:"8",L:"1"};return e.split("").map(n=>t[n]||n).join("")},scramble:e=>e.split(" ").map(t=>{if(t.length<=3)return t;const n=t[0],s=t[t.length-1],r=t.substring(1,t.length-1).split("");for(let o=r.length-1;o>0;o--){const i=Math.floor(Math.random()*(o+1));[r[o],r[i]]=[r[i],r[o]]}return n+r.join("")+s}).join(" "),randomCapitalize:e=>e.split("").map(t=>Math.random()>.5?t.toUpperCase():t.toLowerCase()).join(""),zalgo:(e,t=1)=>{const n=["̀","́","̂","̃","̄","̅","̆","̇","̈","̉","̊","̋","̌","̍","̎","̏","̐","̑","̒","̓","̔","̕","̚","̛","̽","̾","̿","̀","́","͂","̓","̈́","͆","͊","͋","͌","͐","͑","͒","͗","͘","͛","͝","͞","͠","͡","͢","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ"];return e.split("").map(s=>{let r=s;const o=Math.floor(Math.random()*(5*t));for(let i=0;i<o;i++){const h=n[Math.floor(Math.random()*n.length)];r+=h}return r}).join("")}};static getRandomMethod(){const e=Object.keys(this.methods);return e[Math.floor(Math.random()*e.length)]}static obfuscate(e,t){if(!e)return e;const n=t?.method||this.getRandomMethod(),s=t?.intensity||1;return n==="zalgo"?this.methods.zalgo(e,s):this.methods[n]?.(e)||e}static obfuscateElements(e,t={onlyVisible:!0}){if(!(typeof window>"u"))try{const n=document.querySelectorAll(e);if(!n||n.length===0)return;n.forEach(s=>{t.onlyVisible&&!x(s)||s instanceof HTMLElement&&(!s.dataset.originalText&&s.textContent&&(s.dataset.originalText=s.textContent),s.textContent&&s.dataset.originalText&&(s.textContent=this.obfuscate(s.dataset.originalText,t)))})}catch(n){console.error(`Error obfuscating elements with selector "${e}":`,n)}}static restoreElements(e){if(!(typeof window>"u"))try{const t=document.querySelectorAll(e);if(!t||t.length===0)return;t.forEach(n=>{n instanceof HTMLElement&&n.dataset.originalText&&(n.textContent=n.dataset.originalText)})}catch(t){console.error(`Error restoring elements with selector "${e}":`,t)}}static cyclicObfuscation(e,t={}){if(typeof window>"u")return()=>{};const n=Object.keys(this.methods);let s=0,r=Date.now(),o=null;const i=t.interval||2e3,h=t.duration||0,p=()=>{const c=n[s];this.obfuscateElements(e,{...t,method:c}),s=(s+1)%n.length,h===0||Date.now()-r<h?o=window.setTimeout(p,i):this.restoreElements(e)};return p(),()=>{o!==null&&(window.clearTimeout(o),this.restoreElements(e))}}}const E=(a,e,t)=>{t?a.classList.add(e):a.classList.remove(e)},I=(a,e,t,n)=>Math.sqrt((t-a)**2+(n-e)**2),R=()=>{const a=document.body;a&&a.classList.toggle("dark-theme")},N=(a,e,t)=>{const n=document.querySelectorAll("p, h1, h2, h3, h4, h5, h6, span"),s=[];return n.forEach((r,o)=>{const i=r.getBoundingClientRect(),h=i.left+i.width/2,p=i.top+i.height/2;I(a,e,h,p)<t&&(r.dataset.id||(r.dataset.id=`chaos-element-${o}`),s.push(`[data-id="${r.dataset.id}"]`))}),s},y={chaosThreshold:10,ultraChaosThreshold:25,effectRadius:200,obfuscationDelay:1e3},S={TEXT_ELEMENTS:"p, h1, h2, h3, h4, h5, h6, span",BRUTALIST_ELEMENTS:".brutalist, .card, main, article, aside, nav"},H=()=>{let a=0;if(typeof window<"u")try{const e=localStorage.getItem("chaosClickCount");e&&(a=parseInt(e,10))}catch(e){console.error("Error retrieving chaosClickCount from localStorage:",e)}return{clickCount:a,chaosMode:a>=y.chaosThreshold,ultraChaosMode:a>=y.ultraChaosThreshold,mouseX:0,mouseY:0,lastObfuscationTime:0,rotation:0,hueRotation:0}};function B(a){const[e,t]=M(H()),n=c=>{try{localStorage.setItem("chaosClickCount",c.toString())}catch(d){console.error("Error storing chaosClickCount in localStorage:",d)}},s=c=>{const d=c.target,u=d.tagName==="A"||d.tagName==="BUTTON"||!!d.closest("a")||!!d.closest("button"),m=e.clickCount+1;n(m),t(f=>{const g={...f,clickCount:m};return m>=y.chaosThreshold&&!f.chaosMode&&(g.chaosMode=!0,document.body&&E(document.body,"chaos-mode",!0)),m>=y.ultraChaosThreshold&&!f.ultraChaosMode&&(g.ultraChaosMode=!0,document.body&&(E(document.body,"ultra-chaos-mode",!0),p())),g}),e.chaosMode&&(R(),i()),e.ultraChaosMode&&!u&&r()},r=()=>{const c=Date.now();if(c-e.lastObfuscationTime>y.obfuscationDelay){t(u=>({...u,lastObfuscationTime:c}));const d=N(e.mouseX,e.mouseY,y.effectRadius);if(d.length>0){const u=d.join(", ");w.obfuscateElements(u),setTimeout(()=>{w.restoreElements(u)},1500)}}},o=c=>{e.chaosMode&&(t(d=>({...d,mouseX:c.clientX,mouseY:c.clientY})),requestAnimationFrame(i))},i=()=>{if(e.chaosMode)try{const c=document.querySelectorAll(S.TEXT_ELEMENTS);if(!c||c.length===0)return;c.forEach(d=>{if(!(d instanceof HTMLElement))return;const u=d.getBoundingClientRect(),m=u.left+u.width/2,f=u.top+u.height/2,g=I(e.mouseX,e.mouseY,m,f),L=200;if(g<L){const T=g/L,A=50-T*45;if(d.style.fontSize=`${A}px`,e.ultraChaosMode){const O=(1-T)*45;d.style.transform=`rotate(${O}deg)`}}else d.style.fontSize="5px",e.ultraChaosMode&&(d.style.transform="rotate(0deg)")})}catch(c){console.error("Error updating font sizes:",c)}},h=()=>{if(!e.ultraChaosMode)return;const c=()=>{if(e.ultraChaosMode)try{t(u=>({...u,rotation:(u.rotation+.5)%360,hueRotation:(u.hueRotation+2)%360})),document.body&&(document.body.style.transform=`skew(${Math.sin(e.rotation*Math.PI/180)*5}deg)`),document.documentElement&&(document.documentElement.style.filter=`hue-rotate(${e.hueRotation}deg)`),document.querySelectorAll(S.BRUTALIST_ELEMENTS).forEach(u=>{if(u instanceof HTMLElement&&Math.random()<.05){const m=Math.floor(Math.random()*15)+2;u.style.borderWidth=`${m}px`}}),requestAnimationFrame(c)}catch(d){console.error("Error in ultra chaos animation:",d)}};c()},p=()=>{if(!(!e.ultraChaosMode||!document.body))try{if(document.querySelector(".brutalist-overlay"))return;const c=document.createElement("div");c.className="brutalist-overlay";const d=["Your pc has been hacked","YOU ARE IN CHAOS MODE","GLITCH IN THE MATRIX","NO STYLE","SYSTEM FAILURE","CONTENT OVER FORM","EMBRACE CHAOS","FUNCTION > FORM"],u=document.createElement("div");u.className="brutalist-marquee",d.forEach(m=>{const f=document.createElement("span");f.textContent=m,f.className="glitch-text",u.appendChild(f);const g=document.createElement("span");g.innerHTML="&nbsp;&nbsp;&nbsp;&nbsp;",u.appendChild(g)}),c.appendChild(u),document.body.appendChild(c),setInterval(()=>{Math.random()<.1&&document.body&&(E(document.body,"glitch-effect",!0),setTimeout(()=>E(document.body,"glitch-effect",!1),100))},1e3)}catch(c){console.error("Error adding brutalist glitch text:",c)}};return b(()=>{if(!(typeof window>"u"))return document.addEventListener("click",s),document.addEventListener("mousemove",o),e.ultraChaosMode?(document.body&&(E(document.body,"chaos-mode",!0),E(document.body,"ultra-chaos-mode",!0)),h(),p()):e.chaosMode&&document.body&&E(document.body,"chaos-mode",!0),()=>{document.removeEventListener("click",s),document.removeEventListener("mousemove",o)}},[e.chaosMode,e.ultraChaosMode]),null}function D(a){const e=()=>{const t=document.querySelector(".nav-links");t&&t.classList.toggle("expanded")};return b(()=>{if(typeof window>"u")return;const t=document.querySelector(".hamburger");t&&t.addEventListener("click",e);const n=document.querySelector(".goBack");return n&&n.addEventListener("click",()=>window.history.back()),()=>{t&&t.removeEventListener("click",e),n&&n.removeEventListener("click",()=>window.history.back())}},[]),null}function z(a){const e=()=>typeof window>"u"?"light":typeof localStorage<"u"&&localStorage.getItem("theme")?localStorage.getItem("theme")||"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",t=()=>{const n=document.documentElement;n.classList.toggle("dark");const s=n.classList.contains("dark");localStorage.setItem("theme",s?"dark":"light")};return b(()=>{if(typeof window>"u")return;const n=e();n==="light"?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark"),window.localStorage.setItem("theme",n);const s=document.getElementById("themeToggle");return s&&(s.addEventListener("click",function(r){r.preventDefault(),t()}),s.addEventListener("touchend",function(r){r.preventDefault(),t()})),()=>{s&&(s.removeEventListener("click",r=>{r.preventDefault(),t()}),s.removeEventListener("touchend",r=>{r.preventDefault(),t()}))}},[]),null}function F(a){return b(()=>{if(!(typeof window>"u"))return document.querySelectorAll(".read-more-btn").forEach(e=>{e.addEventListener("click",()=>{const t=e.closest(".brutalist-card");t&&t.classList.add("flipped")})}),document.querySelectorAll(".back-btn").forEach(e=>{e.addEventListener("click",()=>{const t=e.closest(".brutalist-card");t&&t.classList.remove("flipped")})}),()=>{document.querySelectorAll(".read-more-btn").forEach(e=>{e.removeEventListener("click",()=>{const t=e.closest(".brutalist-card");t&&t.classList.add("flipped")})}),document.querySelectorAll(".back-btn").forEach(e=>{e.removeEventListener("click",()=>{const t=e.closest(".brutalist-card");t&&t.classList.remove("flipped")})})}},[]),null}function U(a){return b(()=>{if(typeof window>"u")return;const e=document.querySelectorAll(".brutalist-sub-menu .menu-item"),t=(n,s)=>{const r=s.getAttribute("href")?.substring(1);if(!r)return;const o=document.getElementById(r);o&&(n.preventDefault(),o.scrollIntoView({behavior:"smooth",block:"center"}),document.querySelectorAll(".darkable").forEach(i=>{i.id===r?(i.classList.add("content-highlighted"),i.classList.remove("content-darkened")):(i.classList.add("content-darkened"),i.classList.remove("content-highlighted"))}),o.classList.contains("darkable")||o.classList.add("darkable"),setTimeout(()=>{document.querySelectorAll(".darkable").forEach(i=>{i.classList.remove("content-darkened")})},5e3))};return e.forEach(n=>{n.addEventListener("click",s=>t(s,n))}),()=>{e.forEach(n=>{n.removeEventListener("click",s=>t(s,n))})}},[]),null}function Y({rootMargin:a="-20% 0px",threshold:e=.6}){return b(()=>{if(typeof window>"u")return;const t=document.querySelectorAll(".highlight-in-viewport"),n={root:null,rootMargin:a,threshold:e},s=new IntersectionObserver(r=>{r.forEach(o=>{o.isIntersecting?(o.target.classList.add("content-highlighted"),o.target.classList.remove("content-darkened")):(o.target.classList.remove("content-highlighted"),o.target.classList.add("content-darkened"))})},n);return t.forEach(r=>{s.observe(r)}),()=>{s.disconnect()}},[a,e]),null}const k=()=>typeof window<"u",v=(a,e="")=>k()&&localStorage.getItem(a)||e,C=(a,e)=>{k()&&localStorage.setItem(a,e)},j=()=>{const[a,e]=M(!1),[t,n]=M([{id:"chaos-mode",name:"Chaos Mode",enabled:!1,description:"Adds random chaotic effects to the page"},{id:"obfuscator",name:"Text Obfuscator",enabled:!1,description:"Obfuscates text on the page with various effects"},{id:"content-highlighter",name:"Content Highlighter",enabled:!0,description:"Highlights content in viewport and darkens content outside"},{id:"dark-mode",name:"Dark Mode",enabled:!1,description:"Toggles between dark and light theme"}]);b(()=>{k()&&n(o=>o.map(i=>{let h=!1;switch(i.id){case"chaos-mode":h=v("chaosMode")==="enabled";break;case"obfuscator":h=v("obfuscator")==="enabled";break;case"content-highlighter":h=v("contentHighlighter")!=="disabled";break;case"dark-mode":h=v("theme")==="dark";break}return{...i,enabled:h}}))},[]),b(()=>{k()&&t.forEach(o=>{switch(o.id){case"chaos-mode":C("chaosMode",o.enabled?"enabled":"disabled");break;case"obfuscator":C("obfuscator",o.enabled?"enabled":"disabled");break;case"content-highlighter":C("contentHighlighter",o.enabled?"enabled":"disabled");break;case"dark-mode":C("theme",o.enabled?"dark":"light"),k()&&document.documentElement&&document.documentElement.classList.toggle("dark",o.enabled);break}k()&&document.dispatchEvent&&document.dispatchEvent(new CustomEvent("feature-toggle",{detail:{id:o.id,enabled:o.enabled}}))})},[t]);const s=o=>{n(i=>i.map(h=>h.id===o?{...h,enabled:!h.enabled}:h))},r=()=>{e(!a)};return k()?l("div",{class:"settings-component",children:[l("button",{id:"settingsToggle",class:"settings-toggle",onClick:r,"aria-label":"Toggle Settings Panel",children:l("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"2",fill:"none",children:[l("path",{d:"M12 15a3 3 0 100-6 3 3 0 000 6z"}),l("path",{d:"M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"})]})}),l("div",{class:`settings-panel ${a?"open":""}`,children:[l("div",{class:"settings-header",children:[l("h3",{children:"Settings"}),l("button",{class:"close-settings",onClick:r,"aria-label":"Close Settings Panel",children:"×"})]}),l("div",{class:"settings-content",children:l("ul",{class:"feature-list",children:t.map(o=>l("li",{class:"feature-item",children:[l("div",{class:"feature-header",children:[l("label",{class:"feature-label",htmlFor:o.id,children:o.name}),l("div",{class:"toggle-switch",children:[l("input",{type:"checkbox",id:o.id,checked:o.enabled,onChange:()=>s(o.id)}),l("span",{class:"toggle-slider"})]})]}),l("p",{class:"feature-description",children:o.description})]},o.id))})})]})]}):null};function _(){return l(q,{children:[l(z,{}),l(D,{}),l(F,{}),l(U,{}),l(Y,{}),l(B,{}),l(j,{})]})}export{_ as default};
